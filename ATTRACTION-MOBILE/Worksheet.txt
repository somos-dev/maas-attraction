ATTRACTION MOBILE - WORKSHEET
--------------------------------------

1. Initial Configuration
   - Creato il progetto React Native con struttura modulare:
     config/, i18n/, navigation/, screens/, store/, utils/
   - Configurato Redux Toolkit + RTK Query
   - Integrato react-native-paper con tema personalizzato (theme.ts)

2. Config/
   - apiConfig.ts → definisce BASE_URL e header comuni
   - constants.ts → predisposto per costanti globali
   - env.ts → predisposto per variabili d’ambiente
   - theme.ts → tema custom basato su MD3LightTheme 

3. i18n/
   - locales/ → predisposti file it.json e en.json (ancora vuoti)

4. Navigation (navigation/)
   - AppNavigator.tsx → gestisce il flusso globale (Splash → Onboarding → Auth → Tab)
   - AuthStack.tsx → stack autenticazione (login, registrazione, recupero/reset password)
   - DrawerNavigator.tsx → connesso alle Tab + voce Impostazioni
   - TabNavigator.tsx → Home, Linee, Servizi, Profilo
   - types.ts → definisce i tipi dei parametri per gli stack navigator

5. Screens (screens/)
   - auth/
     - LoginScreen.tsx → login senza navigazione forzata + tasto Salta (ospite)
     - RegisterScreen.tsx → registrazione senza navigazione forzata + tasto Salta (ospite)
     - ForgotPasswordScreen.tsx
     - ResetPasswordScreen.tsx
   - splash/
     - SplashScreen.tsx
     - OnboardingScreen.tsx → carosello introduttivo con bottoni Accedi, Registrati, Salta (solo dispatch, niente navigate)
   - main/, lines/, services/, profile/ → predisposti ma vuoti

6. Global State (store/)
   - api/
     - authApi.ts → login, registrazione, refresh token, logout, forgot/reset password
   - slices/
     - authSlice.ts → gestisce:
       - access, refresh, user
       - isAnonymous per accesso ospite
       - azioni: setCredentials, clearAuth, updateAccessToken, setAnonymous
     - userSlice.ts → dati aggiuntivi utente
     - onboardingSlice.ts → flag completed (gestione onboarding minimale)
   - persistConfig.ts → configurata persistenza Redux con AsyncStorage
     - authPersistConfig → whitelist: access, refresh, user, isAnonymous
     - onboardingPersistConfig → whitelist: completed
   - store.ts → configurazione Redux

7. Utils/
   - errorHandler.ts → gestione centralizzata errori API

8. Implemented Features (09/2025)
   - Splash + Onboarding con logica centralizzata (nessuna navigazione manuale)
   - Accesso anonimo/ospite via setAnonymous (persistito)
   - Persistenza Redux con AsyncStorage (auth + onboarding)
   - Registrazione → POST /api/auth/register/
   - Login → POST /api/auth/login/
   - JWT token management (access, refresh) via header Authorization
   - Logout e refresh token funzionanti
   - Forgot/Reset Password integrati con backend
   - Custom theme applicato globalmente
   - AuthStack operativo con flusso coerente
   - Tab + Drawer configurati

9. Features in Development
   - Multilingual support (i18n)
   - MainStack screens (Home, Search, Results, TripPlanner)
   - ProfileStack (profilo, storico ricerche, preferenze trasporto)
   - Integrazione API mobilità (ricerca, pianificazione viaggio, fermate, prenotazioni, feedback)
   - Gestione messaggi di errore lato utente (es. registrazione/login non riusciti)
   - Gamification e rewards
   - Gestione notifiche push

--------------------------------------
